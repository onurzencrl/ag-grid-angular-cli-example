<header>

    <div class="header-top">

      <div class="container">

        <ul class="header-social-container">

          <li>
            <a href="#" class="social-link">
                <svg  style="height:20px; width:20px; " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"/></svg>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
                <svg style="height:20px; width:20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"/></svg>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
<svg  style='height:20px; width:20px;' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>            </a>
          </li>

          <li>
            <a href="#" class="social-link">
                <svg style="height:20px; width:20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
            </a>
          </li>

        </ul>

        <div class="header-alert-news">
          <p>
            <b>Free Shipping</b>
            This Week Order Over - $55
          </p>
        </div>

        <div class="header-top-actions">

          <select name="currency">

            <option value="usd">USD &dollar;</option>
            <option value="eur">EUR &euro;</option>

          </select>

          <select name="language">

            <option value="en-US">English</option>
            <option value="es-ES">Espa&ntilde;ol</option>
            <option value="fr">Fran&ccedil;ais</option>

          </select>

        </div>

      </div>

    </div>

    <div class="header-main" [ngClass]="{ 'sticky': isSticky }">

      <div class="container">

        <a href="#" class="header-logo">
          <img src="./assets/frontassets/assets/images/logo/logo.svg" alt="Anon's logo" width="120" height="36">
        </a>
        <div class="header-search-container">
          <input
            type="search"
            name="search"
            class="search-field"
            placeholder="Aradığınız ürün, kategori veya markayı yazınız"
            (focus)="onInputFocus()"
            (blur)="onInputBlur()"
            (input)="onSearch($event)"
            (keydown)="onKeyDown($event)"
          />
          <button class="search-btn">
            <i class="fa fa-search" aria-hidden="true"></i>
          </button>
        
          <!-- Geçmiş Aramalar -->
          <div *ngIf="isFocused && !searchQuery" class="expanded-search-panel">
            <div class="search-history">
              <h4>Geçmiş Aramalar</h4>
              <button (click)="deleteSearched()" class="clear-btn">Temizle</button>
              <ul *ngFor="let recentSearch of recentSearches">
                <li>{{recentSearch}}</li>
       
              </ul>
            </div>
        
            <!-- Önceden Gezdiğim Ürünler -->
            <!-- <div class="recently-viewed">
              <h4>Önceden Gezdiğim Ürünler</h4>
              <div class="product-carousel">
                <div class="product">
                  <img src="urun1.jpg" alt="Ürün 1" />
                  <p>Ürün 1</p>
                  <p>256,33 TL</p>
                </div>
                <div class="product">
                  <img src="urun2.jpg" alt="Ürün 2" />
                  <p>Ürün 2</p>
                  <p>419,60 TL</p>
                </div>
              </div>
            </div> -->
        
            <!-- Popüler Aramalar -->
            <div class="popular-searches">
              <h4>Popüler Aramalar</h4>
              <div class="tags">
                <span *ngFor="let popular of popularSearches">{{popular}}</span>
                <!-- Diğer Etiketler -->
              </div>
            </div>
        
            <!-- Sana Özel Ürünler -->
            <!-- <div class="special-products">
              <h4>Sana Özel Ürünler</h4>
              <div class="product-carousel">
                <div class="product">
                  <img src="special1.jpg" alt="Ürün 1" />
                  <p>WENTER Aşk Gemisi</p>
                  <p>179,51 TL</p>
                </div>
              </div>
            </div> -->
          </div>
        
          <!-- Normal Arama Sonuçları -->
          <div *ngIf="searchResults?.length && searchQuery" class="search-results">
            <ul>
              <li
                *ngFor="let product of searchResults; let i = index"
                [class.active]="i === selectedIndex"
                (click)="selectProduct(product)"
              >
                <div class="search-result-item">
                  <div class="search-img-box">
                    <img [src]="product.imageUrl" alt="{{ product.name }}" class="search-img" />
                  </div>
                  <div class="search-item-content">
                    <p class="product-name">{{ product.name }}</p>
                    <p class="product-category">{{ product.category }}</p>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
        
        
        
        <div class="header-user-actions">
          <div 
            class="user-dropdown" 
            (mouseenter)="toggleUserMenu()" 
            (mouseleave)="toggleUserMenu()">
            
            <button class="action-btn">
              <i class="fa fa-user" aria-hidden="true"></i>
            </button>
        
            <!-- User menu for logged-in users -->
            <div class="user-menu" *ngIf="isLoggedIn && showUserMenu">
              <p class="user-email">{{ userEmail | slice:0:10 }}...</p> <!-- Slicing the email to show only the first part -->
              <ul>
                <li><a routerLink="/orders">Tüm Siparişlerim</a></li>
                <li><a routerLink="/reviews">Değerlendirmelerim</a></li>
                <li><a routerLink="/myaddresses">Adreslerim</a></li>
                <!-- <li><a routerLink="/draw">Şanslı Çekiliş</a><span class="new-label">Yeni</span></li> -->
                <li><a routerLink="/coupons">İndirim Kuponlarım</a></li>
                <li><a routerLink="/user-info">Kullanıcı Bilgilerim</a></li>
                <li><a (click)="logout()">Çıkış Yap</a></li>
              </ul>
            </div>
        
            <!-- Login/Sign-up menu for guests -->
            <div class="user-menu" *ngIf="!isLoggedIn && showUserMenu">
              <a routerLink="/login">Login</a>
            </div>
          </div>
        
          <!-- Favorite & Basket buttons -->
          <button routerLink="/favproduct" class="action-btn">
            <i class="fa fa-heart" aria-hidden="true"></i>
            <span class="count">0</span>
          </button>
          <button routerLink="/basket" class="action-btn">
            <i class="fa fa-shopping-basket" aria-hidden="true"></i>
            <span class="count">{{ basketCount }}</span>
          </button>
        </div>
        
        

      </div>

    </div>

    <nav class="desktop-navigation-menu">

      <div class="container">

        <ul class="desktop-menu-category-list">

          <li class="menu-category">
            <a href="/" class="menu-title">Anasayfa</a>
          </li>

          <li class="menu-category">
            <a href="#" class="menu-title">Popüler Kategoriler</a>

            <div class="dropdown-panel">

              <ul class="dropdown-panel-list" *ngFor="let parent of parentCategories">

                <!-- Loop through parent categories -->
                <li  class="menu-title">
                  <a [routerLink]="['/product-filtered', parent.id]">{{ parent.name }}</a>
                </li>
                    <li    class="panel-list-item" *ngFor="let child of childCategories[parent.id]">
                      <a [routerLink]="['/product-filtered', child.id]">{{ child.name }}</a>
                    </li>
              
                    <!-- Optional: Add an image if the parent category has one -->
                    <li class="panel-list-item" *ngIf="parent.imageUrl">
                      <a href="#">
                        <img src="./assets/frontassets/assets/images/mens-banner.jpg" alt="men's fashion" width="250" height="119">
                      </a>
                    </li>
              
              
              </ul>
              

         

            </div>
          </li>

          <li   *ngFor="let parent of parentCategories"  class="menu-category">
            <a class="menu-title" [routerLink]="['/product-filtered', parent.id]">{{ parent.name }}</a>

            <ul class="dropdown-list">

              <li   class="dropdown-item" *ngFor="let child of childCategories[parent.id]">
                <a [routerLink]="['/product-filtered', child.id]">{{ child.name }}</a>
              </li>
       

            </ul>
          </li>

        

      


         <li class="menu-category">
        <a class="menu-title" (click)="scrollToSection('blog')">Blog</a>
      </li>

      <li class="menu-category">
        <a class="menu-title" (click)="scrollToSection('cta-container')">Hot Offers</a>
      </li>
      

        </ul>

      </div>

    </nav>

    <div class="mobile-bottom-navigation">

      <button class="action-btn" data-mobile-menu-open-btn>
        <i class="fa fa-bars" aria-hidden="true"></i>
    </button>

      <button class="action-btn">
        <i  routerLink="/basket" class="fa fa-shopping-basket" aria-hidden="true"></i>

        <span class="count">0</span>
      </button>

      <button class="action-btn">
        <i routerLink="/" class="fa fa-home" aria-hidden="true"></i>
    </button>

      <button  routerLink="/favproduct" class="action-btn">
        <i class="fa fa-heart" aria-hidden="true"></i>

        <span class="count">0</span>
      </button>
      <button class="action-btn" data-mobile-menu-open-btn (click)="toggleMobileMenu()">
        <i class="fa fa-user" aria-hidden="true"></i>
      </button>

    </div>

    <nav class="mobile-navigation-menu  has-scrollbar" style="display: block;" data-mobile-menu>

      <div class="menu-top">
        <h2 class="menu-title">Menu</h2>

        <button class="menu-close-btn" data-mobile-menu-close-btn>
          <i class="fa fa-times-circle" aria-hidden="true"></i>
        </button>
      </div>

      <ul class="mobile-menu-category-list">

        <li class="menu-category">
          <a href="/" class="menu-title">Anasayfa</a>
        </li>

   

  
        <li class="menu-category">
          <a class="menu-title" (click)="scrollToSection('blog')">Blog</a>
        </li>
        
        <li class="menu-category">
          <a class="menu-title" (click)="scrollToSection('cta-container')">Hot Offers</a>
        </li>
        

      </ul>

      <div class="menu-bottom">

        <ul class="menu-category-list">

          <li class="menu-category">

            <button class="accordion-menu" data-accordion-btn>
              <p class="menu-title">Language</p>

              <i class="fa fa-caret-square-o-down" aria-hidden="true" class='caret-back'></i>
            </button>

            <ul class="submenu-category-list" data-accordion>

              <!-- <li class="submenu-category">
                <a href="#" class="submenu-title">English</a>
              </li> -->

              <li class="submenu-category">
                <a href="#" class="submenu-title">Espa&ntilde;ol</a>
              </li>

              <li class="submenu-category">
                <a href="#" class="submenu-title">Fren&ccedil;h</a>
              </li>

            </ul>

          </li>

          <li class="menu-category">
            <button class="accordion-menu" data-accordion-btn>
              <p class="menu-title">Currency</p>
              <i class="fa fa-caret-square-o-down" aria-hidden="true" class="caret-back"></i>

            </button>

            <ul class="submenu-category-list" data-accordion>
              <li class="submenu-category">
                <a href="#" class="submenu-title">USD &dollar;</a>
              </li>

              <li class="submenu-category">
                <a href="#" class="submenu-title">EUR &euro;</a>
              </li>
            </ul>
          </li>

        </ul>

        <ul class="menu-social-container">

          <li>
            <a href="#" class="social-link">
              <svg  style="height:20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"/></svg>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <svg style="height:20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"/></svg>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <svg style="height:20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
            </a>
          </li>

        </ul>

      </div>

    </nav>
    <nav class="custom-mobile-user-menu has-scrollbar" [class.open]="isMobileMenuOpen" *ngIf="isLoggedIn" user-mobile-menu>
      <div class="custom-mobile-bottom-navigation">
        <button class="custom-action-btn">
          <i class="fa fa-bars" aria-hidden="true"></i>
        </button>
      
        <button class="custom-action-btn" routerLink="/basket">
          <i class="fa fa-shopping-basket" aria-hidden="true"></i>
          <span class="count">{{ basketCount }}</span>
        </button>
      
        <button class="custom-action-btn" routerLink="/">
          <i class="fa fa-home" aria-hidden="true"></i>
        </button>
      
        <button class="custom-action-btn" routerLink="/favproduct">
          <i class="fa fa-heart" aria-hidden="true"></i>
          <span class="count">0</span>
        </button>
      
        <button class="custom-action-btn" (click)="toggleMobileMenu()">
          <i class="fa fa-user" aria-hidden="true"></i>
        </button>
      </div>
      
      <div class="custom-mobile-user-menu" [class.open]="isMobileMenuOpen">
        <div class="custom-mobile-menu-header">
          <span class="custom-close-btn" (click)="toggleMobileMenu()">✖</span>
          <p class="custom-user-email">{{ userEmail | slice:0:10 }}...</p>
        </div>
      
        <ul class="custom-mobile-menu-list">
          <li><a routerLink="/orders">Tüm Siparişlerim</a></li>
          <li><a routerLink="/reviews">Değerlendirmelerim</a></li>
          <li><a routerLink="/myaddresses">Adreslerim</a></li>
          <li><a routerLink="/coupons">İndirim Kuponlarım</a></li>
          <li><a routerLink="/user-info">Kullanıcı Bilgilerim</a></li>
          <li><a (click)="logout()">Çıkış Yap</a></li>
        </ul>
      </div>
    </nav>

       <nav class="custom-mobile-user-menu has-scrollbar" [class.open]="isMobileMenuOpen" *ngIf="!isLoggedIn" user-mobile-menu>
      <div class="custom-mobile-bottom-navigation">
        <button class="custom-action-btn">
          <i class="fa fa-bars" aria-hidden="true"></i>
        </button>
      
        <button class="custom-action-btn" routerLink="/basket">
          <i class="fa fa-shopping-basket" aria-hidden="true"></i>
          <span class="count">{{ basketCount }}</span>
        </button>
      
        <button class="custom-action-btn" routerLink="/">
          <i class="fa fa-home" aria-hidden="true"></i>
        </button>
      
        <button class="custom-action-btn" routerLink="/favproduct">
          <i class="fa fa-heart" aria-hidden="true"></i>
          <span class="count">0</span>
        </button>
      
        <button class="custom-action-btn" (click)="toggleMobileMenu()">
          <i class="fa fa-user" aria-hidden="true"></i>
        </button>
      </div>
      
      <div class="custom-mobile-user-menu" [class.open]="isMobileMenuOpen">
        <div class="custom-mobile-menu-header">
          <span class="custom-close-btn" (click)="toggleMobileMenu()">✖</span>
          <p class="custom-user-email">{{ userEmail | slice:0:10 }}...</p>
        </div>
      
        <ul class="custom-mobile-menu-list">
          <li><a routerLink="/login">Login</a></li>
    
        </ul>
      </div>
    </nav>
    
    
  </header>

